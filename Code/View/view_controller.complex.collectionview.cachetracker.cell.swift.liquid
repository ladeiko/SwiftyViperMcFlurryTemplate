{% include 'header' %}

import UIKit

class {{ prefix }}{{ module_info.name }}ViewCell: UICollectionViewCell {

    // MARK: Outlets
    // TODO

    // MARK: Vars
    
    private var removeEmbeddableBlock: {{ prefix }}{{ module_info.name }}EmbeddableRemoveBlock?

    // MARK: Public

    func configure(with model: {{ prefix }}{{ module_info.name }}ModuleEntityModel) {
        // TODO
    }

    func willDisplay(_ embeddable: {{ prefix }}{{ module_info.name }}Embeddable) {
        removeEmbeddable() // remove previous if for some reason it was not removed
        removeEmbeddableBlock = embeddable.embed(contentView) // TODO use view you prefer
    }

    func stopDisplay() {
        removeEmbeddable()
    }

    // MARK: Life cycle

    deinit {
        removeEmbeddable()
    }

    override func prepareForReuse() {
        removeEmbeddable()
        super.prepareForReuse()
    }

    // MARK: Helpers

    private func removeEmbeddable() {
        removeEmbeddableBlock?()
        removeEmbeddableBlock = nil
    }

    // TODO

}
